(function(){"use strict";var e={3009:function(e,n,r){var t=r(9242),i=(r(7658),r(3396)),o=r(7139);const a={class:"repo"},l={class:"repo__name"},u={class:"repo__description"},s={class:"repo__link"},c=["href"];var p=(0,i.aZ)({__name:"RepoItem",props:{repo:{type:Object,required:!0}},setup(e){return(n,r)=>((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",l,[(0,i._)("span",null,(0,o.zw)(e.repo.name),1)]),(0,i._)("div",u,[(0,i._)("span",null,(0,o.zw)(e.repo.description),1)]),(0,i._)("div",s,[(0,i._)("a",{href:e.repo.html_url},(0,o.zw)(e.repo.html_url),9,c)])]))}});const f=p;var v=f,g=r(4870);const d={class:"error-msg"},h={key:0},_={class:"owner-name"},w={class:"loading"},b={key:0};var m=(0,i.aZ)({__name:"App",setup(e){const n=(0,g.iH)([]),r=(0,g.iH)(!1),t=(0,g.iH)(""),a="antfu",l=(0,g.iH)(null),u=(0,g.qj)({}),s=e=>{const n=e.split(", ");return n.reduce(((e,n)=>{const[r,t]=n.split("; "),i=r.slice(1,-1),o=parseInt(i.split("&page=")[1],10);return Object.assign(e,{[t.split("=")[1].slice(1,-1)]:{url:i,pageIndex:o}})}),{})},c=async e=>{try{r.value=!0;const i=await fetch(e??`https://api.github.com/users/${a}/repos?per_page=6`),o=await i.json();if(i.ok){""!==t.value&&(t.value="");const e=i.headers.get("Link");e&&Object.assign(u,s(e)),n.value.push(...o)}else t.value=o.message;r.value=!1}catch(i){r.value=!1,console.log(i)}},p=e=>{if(!u.next&&!r.value)return;const{scrollTop:n,scrollHeight:t,clientHeight:i}=e.target;n+i>=t&&c(u.next?.url)};return(0,i.bv)((async()=>{await c();while(u.next&&l.value?.scrollHeight===l.value?.clientHeight)await c(u.next.url)})),(e,u)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",d,[t.value?((0,i.wg)(),(0,i.iD)("span",h,(0,o.zw)(t.value)+"...",1)):(0,i.kq)("",!0)]),(0,i._)("div",{class:"repo-container",ref_key:"container",ref:l,onScroll:u[0]||(u[0]=e=>p(e))},[(0,i._)("div",_,[(0,i._)("span",null,(0,o.zw)(`${a} repo list`),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.value,(e=>((0,i.wg)(),(0,i.j4)(v,{key:e.id,repo:e},null,8,["repo"])))),128)),(0,i._)("div",w,[r.value?((0,i.wg)(),(0,i.iD)("span",b,"Loading next page...")):(0,i.kq)("",!0)])],544)],64))}});const y=m;var k=y;(0,t.ri)(k).mount("#app")}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(n,t,i,o){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],i=e[c][1],o=e[c][2];for(var l=!0,u=0;u<t.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](t[u])}))?t.splice(u--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var s=i();void 0!==s&&(n=s)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,i,o]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var i,o,a=t[0],l=t[1],u=t[2],s=0;if(a.some((function(n){return 0!==e[n]}))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(u)var c=u(r)}for(n&&n(t);s<a.length;s++)o=a[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},t=self["webpackChunkinfinite_scroll"]=self["webpackChunkinfinite_scroll"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(3009)}));t=r.O(t)})();
//# sourceMappingURL=app.b73b8e92.js.map